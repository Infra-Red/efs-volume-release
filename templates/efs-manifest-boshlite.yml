---
name: efs-volume
director_uuid: (( merge ))
compilation:
  cloud_properties: {}
  network: efs-net
  workers: 1
jobs:
- instances: 1
  log_level: debug
  name: efsbroker
  networks:
  - name: efs-net
  resource_pool: efs-resourcepool
  templates:
  - name: efsbroker
    release: efs-volume
  - name: route_registrar
    release: cf
  properties:
    efsbroker:
      service-id: efs-volume
      service-name: efs-volume
      plan-name: free-efs-disk
      plan-id: free
    route_registrar:
      routes:
      - name: efsbroker
        port: 8999
        registration_interval: 20s
        tags:
          component: efsbroker
        uris:
        - efsbroker.bosh-lite.com
networks:
- name: efs-net
  subnets:
  - cloud_properties: {}
    gateway: 10.244.9.1
    range: 10.244.9.0/24
    static:
    - 10.244.9.2
  type: manual
properties:
  efsbroker:
    plan-desc: efs volume for bosh-lite
    username: (( merge ))
    password: (( merge ))
    aws-region: (( merge || nil ))
    aws-secret-access-key: (( merge ))
    aws-access-key-id: (( merge ))
    aws-subnet-ids: (( merge ))
  nats:
    machines:
    - 10.244.0.6
    password: nats
    port: 4222
    user: nats
releases:
- name: efs-volume
  version: latest
- name: cf
  version: latest
resource_pools:
- cloud_properties: {}
  name: efs-resourcepool
  network: efs-net
  stemcell:
    name: bosh-warden-boshlite-ubuntu-trusty-go_agent
    version: latest
update:
  canaries: 1
  canary_watch_time: 1000-60000
  max_in_flight: 3
  serial: false
  update_watch_time: 1000-60000
